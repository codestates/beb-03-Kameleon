(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{215:function(n,e,t){"use strict";t(0);var r,a=t(14),c=t(13).b.img(r||(r=Object(a.a)(["\n  /* width: 70px; */\n  height: 20px;\n  max-width: 60px;\n  margin-left: 5px;\n  margin-right: 5px;\n  @media (max-width: 760px) {\n    display: none;\n  }\n"]))),i=t(156),o=t(1);e.a=function(n){var e=n.stockName;return Object(o.jsx)(c,{src:""+"/stockLogo/".concat(i.f[e])})}},980:function(n,e,t){"use strict";t.r(e);var r,a,c,i,o=t(43),s=t(12),l=t(25),u=t.n(l),d=t(0),m=t(15),p=t(45),b=t.n(p),f=t(14),h=t(13),j=h.b.div(r||(r=Object(f.a)(["\n  max-width: var(--width);\n  margin: 0 auto;\n  color: var(--white);\n\n  .main__oracle {\n    @media (max-width: 1023px) {\n      display: none;\n    }\n  }\n"]))),x=h.b.div(a||(a=Object(f.a)(["\n  display: flex;\n  margin-bottom: 1rem;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  background-color: var(--white);\n  align-items: center;\n\n  & > input {\n    padding-left: 1rem;\n    width: 100%;\n    border: 0;\n    font-size: 1rem;\n    font-weight: 700;\n    color: var(--dark-green);\n    background-color: var(--white);\n    outline: none;\n  }\n\n  & > button {\n    width: 120px;\n    height: 2rem;\n    border: 0;\n    border-radius: 0.5rem;\n    font-size: 1rem;\n    font-weight: 600;\n    color: var(--white);\n    background-color: var(--green);\n\n    :hover {\n      cursor: pointer;\n    }\n  }\n"]))),g=h.b.ul(c||(c=Object(f.a)(["\n  border-radius: 0.5rem;\n  /* background-color: var(--dark-green); */\n  background-color: var(--white);\n\n  & > div {\n    display: flex;\n    padding: 0 2rem;\n    border-bottom: 2px solid var(--green);\n\n    span {\n      flex: 1;\n      padding: 1rem 0;\n      font-size: 1rem;\n      text-align: right;\n      color: var(--green);\n\n      &:nth-of-type(1) {\n        flex: 1.5;\n        text-align: left;\n      }\n    }\n  }\n\n  & > div > span > i {\n    font-size: 0.9rem;\n    font-style: normal;\n\n    @media (max-width: 760px) {\n      display: none;\n    }\n  }\n"]))),v=h.b.li(i||(i=Object(f.a)(["\n  & > a {\n    display: flex;\n    padding: 1rem 2rem;\n    border-bottom: 1px solid var(--white);\n    font-size: 1.2rem;\n    color: var(--white);\n\n    & > span {\n      flex: 1;\n      text-align: right;\n      color: var(--dark-green);\n\n      :first-of-type {\n        flex: 1.5;\n        text-align: left;\n      }\n\n      em {\n        font-style: normal;\n        font-size: 0.8rem;\n        color: var(--green);\n      }\n    }\n\n    :last-of-type {\n      border: 0;\n    }\n\n    .main__name,\n    .main__price {\n      font-weight: 700;\n    }\n\n    /* \n    .main__usd {\n      @media (max-width: 1023px) {\n        display: none;\n      }\n    } */\n  }\n"]))),O=t(161),w=t(156),k=t(28),y=t(9),_=t(215),N=t(27),S=t(21),P=t(1);e.default=function(){var n=Object(d.useState)(""),e=Object(s.a)(n,2),t=e[0],r=e[1],a=Object(d.useState)([]),c=Object(s.a)(a,2),i=c[0],l=c[1],p=Object(k.b)(),f=function(){var n=Object(d.useState)(""),e=Object(s.a)(n,2),t=e[0],r=e[1];return Object(d.useEffect)((function(){var n=new WebSocket("wss://pubwss.bithumb.com/pub/ws"),e=void 0,t=function(){var n=Object(o.a)(u.a.mark((function n(){var t,a,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.get("https://api.bithumb.com/public/ticker/KLAY_KRW");case 2:c=n.sent,e=null===c||void 0===c||null===(t=c.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.closing_price,r(e);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return void 0===e&&t(),n.onopen=function(){n.send(JSON.stringify({type:"ticker",symbols:["KLAY_KRW"],tickTypes:["30M"]}))},n.onmessage=function(n){var t,a=JSON.parse(n.data.toString());void 0!==(e=null===a||void 0===a||null===(t=a.content)||void 0===t?void 0:t.closePrice)&&r(e)},function(){n.close()}}),[]),t}(),h=Object(d.useCallback)((function(n){r(n.target.value)}),[]);Object(d.useEffect)((function(){var n=function(){var n=Object(o.a)(u.a.mark((function n(){var e,t,r,a,c,i,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],t=[],n.next=4,b()({method:"get",url:"/api/stock/getStocks"});case 4:for(r=n.sent,a=r.data.data,c=Object.keys(w.e),i=Object.values(w.e),s=0;s<c.length;s++)e.push({id:s,token:String(c[s]),code:i[s]});return n.next=11,Promise.all(e.map(function(){var n=Object(o.a)(u.a.mark((function n(e){var t,r,c,i,o,s,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="",r="",c=e.token,i=a.findIndex((function(n){return n.codeNumber===e.code})),-1!==i&&(t=a[i].stockName,r=a[i].nowValue),n.next=7,Object(O.b)({contractName:"Exchange",contractAddress:"".concat(w.c[c]),methodName:"getEthAmount",parameters:[1]});case 7:return o=n.sent,l=100*((s=1.003*+o*+f)/+r-1),n.abrupt("return",{name:t,oraclePrice:r,krwPrice:String(Math.floor(s)),premium:String(l.toFixed(2)),code:e.code,token:c});case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 11:return t=n.sent,n.abrupt("return",l(t));case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f]);var C,z=N.g;return Object(P.jsxs)(j,{children:[Object(P.jsx)("h2",{className:"tit",children:"Stock List"}),Object(P.jsxs)(x,{children:[Object(P.jsx)(S.a,{icon:z,style:{color:"var(--green)"},className:"icon"}),Object(P.jsx)("input",{onChange:function(n){return h(n)},value:t})]}),Object(P.jsxs)(g,{children:[Object(P.jsxs)("div",{className:"table-header",children:[Object(P.jsx)("span",{children:"Name"}),Object(P.jsx)("span",{className:"main__oracle",children:"Oracle price"}),Object(P.jsx)("span",{children:"Pool Price"}),Object(P.jsxs)("span",{children:["Premium",Object(P.jsx)("i",{children:"(%)"})]})]}),(C=i,C.filter((function(n){return void 0!==n.name&&n.name.includes(t.trim())}))).map((function(n,e){return Object(P.jsx)(v,{children:Object(P.jsxs)(m.b,{to:"/swap/".concat(n.token),onClick:function(){return p(Object(y.d)("swap"))},children:[Object(P.jsxs)("span",{className:"main__name",children:[Object(P.jsx)(_.a,{stockName:n.token})," ",n.name," ",Object(P.jsxs)("em",{children:["(",n.token,")"]})]}),Object(P.jsxs)("span",{className:"main__oracle",children:[n.oraclePrice.toLocaleString("ko-KR")," ",String.fromCharCode(8361)]}),Object(P.jsxs)("span",{className:"main__price",children:[Number(n.krwPrice).toLocaleString("ko-KR")," ",String.fromCharCode(8361)]}),Object(P.jsxs)("span",{children:[n.premium,"%"]})]})},e)}))]})]})}}}]);